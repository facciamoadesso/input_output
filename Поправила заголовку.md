\# Отделяйте ввод/вывод от обработки





Ключевой критерий качества кода — это стоимость внесения в него изменений. 

Если изменять программу сложно, то проект медленно развивается, несет убытки 

и, в конечном счете погибает. С другой стороны, бесконечно расширяемый и 

безгранично гибкий код — это как сферический конь в вакууме. Теоретически 

возможен, но практической ценности не несет.



Один из часто встречающихся и оправданных приемов — это отделение обработки 

данных от процесса ввода/вывода. Рассмотрим несколько примеров.



\## Пример. Подбор онлайн-курса





По условию задачи нужно скачать из сети данные об онлайн-курсах, выбрать из 

них лучшие и сохранить результат в xlsx файл. Вот фрагмент кода:



def get\_courses\_list(courses\_url):

&nbsp;   html = fetch\_html(courses\_url)

&nbsp;   if html:

&nbsp;       # .... parsing logic

&nbsp;       return courses\_list

&nbsp;   else:

&nbsp;       print("can't load list of courses")

&nbsp;       exit()

Теперь примерим на себя роль провидца и подумаем какой функционал потребуется 

через месяц:



В случае сетевой ошибки взять паузу в 10 секунд и повторить попытку, затем 

подождать еще 30 секунд и так далее.

В случае если адрес недоступен - постучаться по другому url в зеркало сайта.

В случае ошибки сделать запись в лог и взять данные из ранее подготовленного 

кеша.

Как все это сделать когда def get\_courses\_list сама завершает программу ?! От 

вызова exit() надо отказаться. Можно выбросить исключение и таким образом 

сообщить о проблеме внешнему коду, пускай там разбираются.



